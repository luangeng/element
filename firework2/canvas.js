function $$(id){return document.getElementById(id);}
function canvasSupport(){return!document.createElement('testcanvas').getContext;}
function rotate(params){if(getType(params)=='undefined'||getType(params.x)!='number'||getType(params.y)!='number'||getType(params.center_x)!='number'||getType(params.center_y)!='number'||getType(params.deg)!='number'){return{};}else{let x=params.x,y=params.y,center_x=params.center_x,center_y=params.center_y,deg=params.deg;let new_x=(x-center_x)*Math.cos(deg)-(y-center_y)*Math.sin(deg)+center_x,new_y=(x-center_x)*Math.sin(deg)+(y-center_y)*Math.cos(deg)+center_y;params.x=new_x;params.y=new_y;return params;}}
function change_quiescence(params,animate_params){var _default={vx:0,vy:0,pal:0,scale:0};if(getType(params.x)!='number'||getType(params.y)!='number'||getType(params.deg)!='number'&&getType(params.deg)!='undefined'||getType(params.zoom)!='number'){return{};}
var vx=getType(animate_params.vx)!='number'?_default.vx:animate_params.vx,vy=getType(animate_params.vy)!='number'?_default.vy:animate_params.vy,pal=getType(animate_params.pal)!='number'?_default.pal:animate_params.pal,scale=getType(animate_params.scale)!='number'?_default.scale:animate_params.scale;params.x+=vx;params.y+=vy;params.deg+=pal;params.zoom+=scale;return params;}
function translate_animate_state(animate_params,translate_params){var _default={ax:0,ay:0,apal:0,ascale:0};if(getType(animate_params.vx)!='number'||getType(animate_params.vy)!='number'||getType(animate_params.pal)!='number'||getType(animate_params.scale)!='number'){return{};}
var ax=getType(translate_params.ax)!='number'?_default.ax:translate_params.ax,ay=getType(translate_params.ay)!='number'?_default.ay:translate_params.ay,apal=getType(translate_params.apal)!='number'?_default.apal:translate_params.apal,ascale=getType(translate_params.ascale)!='number'?_default.ascale:translate_params.ascale;animate_params.vx+=ax;animate_params.vy+=ay;animate_params.pal+=apal;animate_params.scale+=ascale;return animate_params;}
function randomColor(){var r=Math.floor(Math.random()*256);var g=Math.floor(Math.random()*256);var b=Math.floor(Math.random()*256);var color='rgb($r, $g, $b)';color=color.replace('$r',r);color=color.replace('$g',g);color=color.replace('$b',b);return color;}